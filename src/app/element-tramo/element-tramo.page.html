<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <!--<ion-back-button (click)="regresar()"></ion-back-button>-->
      <ion-button (click)="regresar()" ><ion-icon name="arrow-back-outline" ></ion-icon></ion-button>
    </ion-buttons>
    <ion-title>Agregar Observacion de la Ciclovia</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>

    <ion-row>
    
      <ion-col size="12">
    
          <ion-label position="floating">Ciclovia:</ion-label>
          <ion-item>           
            <ionic-selectable          
          [(ngModel)]="tramo" 
          [items]="tramos"
                itemValueField="id"
                itemTextField="nombre"
                [canSearch]="true"
                (onChange)="changeTramo($event)"
                >
                <ng-template ionicSelectableItemTemplate let-tramo="item"> 
                  {{ tramo.nombre}} (distrito: {{tramo.distrito}} )

                  <!--<ng-container *ngIf="tramo.desde">  ( desde: {{tramo.desde}} hasta:  {{tramo.hasta}})</ng-container>-->
                </ng-template>
          </ionic-selectable>
        </ion-item>
      
      </ion-col>
      <!--<ion-col size="2">
        <div> 
          <ion-button  
          shape="full"  
          color ="secondary" 
          (click)="editarTramo()"
          
          > <ion-icon name="create-outline"></ion-icon> </ion-button>
        </div>
        
      </ion-col>-->
      <!--
      <ion-col size="12">
        <div> 

          <ion-item>
            <ion-label>Elija el elemento: </ion-label>
            <ion-select [(ngModel)]="elemento.elemento" (ionChange)="changeElemento($event)" >
              <ion-select-option  *ngFor="let item of elementos"  value="{{item.value}}" >
                {{ item.text}}
              </ion-select-option>
            </ion-select>
          </ion-item>
        </div>

      </ion-col>
    -->

    </ion-row>

<ion-row  *ngIf="elemento.elemento">

  <ng-container *ngIf="tipos;else otros">

    <ion-col size="12">
      <div>
        <ion-item>
          <ion-label>Tipo de elemento: </ion-label>
          <ion-select [(ngModel)]="elemento.tipo" >
            <ion-select-option  *ngFor="let item of tipos"  value="{{item.value}}" >
              {{ item.text}}
            </ion-select-option>
          </ion-select>
        </ion-item>
      </div>
     


  
    </ion-col>

    <ion-col size="12">

      <div>
        <ion-item *ngIf =" estados && estados.length>0">
          <ion-label>Estado del elemento: </ion-label>
          <ion-select [(ngModel)]="elemento.estado" >
            <ion-select-option *ngFor="let item of estados"  value="{{item.value}}" >
              {{ item.text}}
            </ion-select-option>
          </ion-select>
        </ion-item>

      </div>
     
    </ion-col>

  </ng-container>

  <ng-template #otros>
    <ion-col size="12">
      <ion-item >
        <ion-label position="floating">Escriba una observacion:</ion-label>
        <ion-textarea  [(ngModel)]="elemento.observacion"  rows="5" ></ion-textarea>        
      </ion-item>
    </ion-col>

  </ng-template>



  <ion-col size="12">
      <ion-button 
      expand ="full" 
      shape="full"  
      color ="tertiary" 
    (click)="takePicture()"
      > <ion-icon name="camera-outline"></ion-icon> Foto</ion-button>

     <img  *ngIf="image" [src]="image" alt="image">
    </ion-col>

    <ion-col size="12">
      <ion-button 
      expand ="full" 
      shape="full"  
      color ="primary" 
    
    (click)="guardar()"
      > Guardar</ion-button>

    </ion-col>

  
</ion-row>
    
  </ion-grid>



</ion-content>
